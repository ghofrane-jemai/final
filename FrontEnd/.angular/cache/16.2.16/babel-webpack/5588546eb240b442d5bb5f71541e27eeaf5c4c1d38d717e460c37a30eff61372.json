{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"videoElement\"];\nconst _c1 = [\"canvasElement\"];\nfunction HomeComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r14);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(country_r14);\n  }\n}\nfunction HomeComponent_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const city_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", city_r15);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(city_r15);\n  }\n}\nfunction HomeComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r8.ageError);\n  }\n}\nfunction HomeComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.dateError);\n  }\n}\nfunction HomeComponent_img_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 38);\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r12.user.selfie, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class HomeComponent {\n  constructor(http) {\n    this.http = http;\n    this.videoElement = null;\n    this.canvasElement = null;\n    this.user = {\n      firstName: '',\n      lastName: '',\n      country: '',\n      city: '',\n      dob: '',\n      gender: '',\n      idCardFront: null,\n      idCardBack: null,\n      selfie: null // Permettre null\n    };\n\n    this.ageError = '';\n    this.dateError = '';\n    this.countries = [\"Afghanistan\"];\n    this.citiesByCountry = {\n      \"Afghanistan\": [\"Kabul\", \"Kandahar\", \"Herat\", \"Mazar-i-Sharif\", \"Jalalabad\"]\n    };\n    this.cities = [];\n  }\n  ngOnInit() {\n    this.startCamera();\n  }\n  startCamera() {\n    const video = document.getElementById('videoElement');\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }).then(stream => {\n      video.srcObject = stream;\n    }).catch(error => {\n      console.error(\"Erreur lors de l'accès à la caméra : \", error);\n    });\n  }\n  takeSelfie() {\n    const video = document.getElementById('videoElement');\n    const canvas = document.createElement('canvas');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const context = canvas.getContext('2d');\n    if (context) {\n      // Vérifiez si context n'est pas null\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      this.user.selfie = canvas.toDataURL('image/jpeg'); // Convertir en base64\n    } else {\n      console.error(\"Erreur : Impossible d'obtenir le contexte du canvas.\");\n    }\n  }\n  onCountryChange() {\n    const selectedCountry = this.user.country;\n    this.cities = this.citiesByCountry[selectedCountry] || [];\n    this.user.city = '';\n  }\n  onDateChange() {\n    const birthdate = new Date(this.user.dob);\n    const today = new Date();\n    if (birthdate.getFullYear() > today.getFullYear()) {\n      this.dateError = \"Choix incorrect : l'année choisie ne peut pas être supérieure à l'année actuelle.\";\n      this.ageError = \"\";\n      return;\n    } else {\n      this.dateError = \"\";\n    }\n    const age = today.getFullYear() - birthdate.getFullYear();\n    const monthDiff = today.getMonth() - birthdate.getMonth();\n    if (age < 18 || age === 18 && monthDiff < 0) {\n      this.ageError = \"Vous devez avoir au moins 18 ans.\";\n    } else {\n      this.ageError = \"\";\n    }\n  }\n  onSubmit() {\n    const birthdate = new Date(this.user.dob);\n    const today = new Date();\n    if (birthdate.getFullYear() > today.getFullYear()) {\n      alert(\"Choix incorrect : l'année choisie ne peut pas être supérieure à l'année actuelle.\");\n      return;\n    }\n    const age = today.getFullYear() - birthdate.getFullYear();\n    const monthDiff = today.getMonth() - birthdate.getMonth();\n    if (age < 18 || age === 18 && monthDiff < 0) {\n      alert(\"Vous devez avoir au moins 18 ans.\");\n      return;\n    }\n    const userData = {\n      firstName: this.user.firstName,\n      lastName: this.user.lastName,\n      country: this.user.country,\n      city: this.user.city,\n      dob: this.formatDate(this.user.dob),\n      gender: this.user.gender,\n      idCardFront: this.user.idCardFront,\n      idCardBack: this.user.idCardBack,\n      selfie: this.user.selfie // Peut être null\n    };\n\n    console.log('Données utilisateur envoyées:', userData); // Debug\n    this.http.post('http://localhost:5000/api/users', userData).subscribe(response => {\n      console.log('Utilisateur ajouté:', response);\n      this.user = {\n        firstName: '',\n        lastName: '',\n        country: '',\n        city: '',\n        dob: '',\n        gender: '',\n        idCardFront: null,\n        idCardBack: null,\n        selfie: null\n      };\n    }, error => {\n      console.error('Erreur lors de l\\'ajout:', error);\n      alert('Erreur lors de l\\'enregistrement: ' + (error.error.message || error.message));\n    });\n  }\n  formatDate(date) {\n    const d = new Date(date);\n    const day = String(d.getDate()).padStart(2, '0');\n    const month = String(d.getMonth() + 1).padStart(2, '0');\n    const year = d.getFullYear();\n    return `${day}/${month}/${year}`;\n  }\n  static {\n    this.ɵfac = function HomeComponent_Factory(t) {\n      return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      viewQuery: function HomeComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.videoElement = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvasElement = _t.first);\n        }\n      },\n      decls: 63,\n      vars: 12,\n      consts: [[\"href\", \"https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap\", \"rel\", \"stylesheet\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"for\", \"firstName\"], [\"name\", \"firstName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"firstName\", \"ngModel\"], [\"for\", \"lastName\"], [\"name\", \"lastName\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"lastName\", \"ngModel\"], [\"for\", \"country\"], [\"name\", \"country\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"country\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"city\"], [\"name\", \"city\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"city\", \"ngModel\"], [\"for\", \"dob\"], [\"type\", \"date\", \"name\", \"dob\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"dob\", \"ngModel\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"for\", \"selfie\"], [\"type\", \"button\", 3, \"click\"], [\"width\", \"320\", \"height\", \"240\", \"autoplay\", \"\"], [\"videoElement\", \"\"], [2, \"display\", \"none\"], [\"canvasElement\", \"\"], [\"id\", \"videoElement\", \"autoplay\", \"\"], [3, \"click\"], [\"alt\", \"Selfie captur\\u00E9\", 3, \"src\", 4, \"ngIf\"], [\"type\", \"file\", 3, \"change\"], [\"for\", \"gender\"], [\"name\", \"gender\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"gender\", \"ngModel\"], [\"value\", \"male\"], [\"value\", \"female\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"value\"], [2, \"color\", \"red\"], [\"alt\", \"Selfie captur\\u00E9\", 3, \"src\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Ouvrez votre avenir financier avec nous ! \");\n          i0.ɵɵelementStart(2, \"head\");\n          i0.ɵɵelement(3, \"link\", 0);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"form\", 1, 2);\n          i0.ɵɵlistener(\"ngSubmit\", function HomeComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(6, \"div\")(7, \"label\", 3);\n          i0.ɵɵtext(8, \"First Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 4, 5);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_9_listener($event) {\n            return ctx.user.firstName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\")(12, \"label\", 6);\n          i0.ɵɵtext(13, \"Last Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 7, 8);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_14_listener($event) {\n            return ctx.user.lastName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\")(17, \"label\", 9);\n          i0.ɵɵtext(18, \"Country:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"select\", 10, 11);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_select_ngModelChange_19_listener($event) {\n            return ctx.user.country = $event;\n          })(\"change\", function HomeComponent_Template_select_change_19_listener() {\n            return ctx.onCountryChange();\n          });\n          i0.ɵɵtemplate(21, HomeComponent_option_21_Template, 2, 2, \"option\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\")(23, \"label\", 13);\n          i0.ɵɵtext(24, \"City:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"select\", 14, 15);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_select_ngModelChange_25_listener($event) {\n            return ctx.user.city = $event;\n          });\n          i0.ɵɵtemplate(27, HomeComponent_option_27_Template, 2, 2, \"option\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\")(29, \"label\", 16);\n          i0.ɵɵtext(30, \"Date of Birth:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"input\", 17, 18);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_31_listener($event) {\n            return ctx.user.dob = $event;\n          })(\"change\", function HomeComponent_Template_input_change_31_listener() {\n            return ctx.onDateChange();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(33, HomeComponent_div_33_Template, 2, 1, \"div\", 19);\n          i0.ɵɵtemplate(34, HomeComponent_div_34_Template, 2, 1, \"div\", 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"div\")(36, \"label\", 20);\n          i0.ɵɵtext(37, \"Prenez une selfie:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_38_listener() {\n            return ctx.startCamera();\n          });\n          i0.ɵɵtext(39, \"Activer la cam\\u00E9ra\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(40, \"video\", 22, 23)(42, \"canvas\", 24, 25)(44, \"video\", 26);\n          i0.ɵɵelementStart(45, \"button\", 27);\n          i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_45_listener() {\n            return ctx.takeSelfie();\n          });\n          i0.ɵɵtext(46, \"Prendre un selfie\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(47, HomeComponent_img_47_Template, 1, 1, \"img\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\")(49, \"input\", 29);\n          i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_49_listener($event) {\n            return ctx.onFileChange($event, ctx.UserFields.IdCardFront);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(50, \"div\")(51, \"input\", 29);\n          i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_51_listener($event) {\n            return ctx.onFileChange($event, ctx.UserFields.IdCardBack);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\")(53, \"label\", 30);\n          i0.ɵɵtext(54, \"Gender:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"select\", 31, 32);\n          i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_select_ngModelChange_55_listener($event) {\n            return ctx.user.gender = $event;\n          });\n          i0.ɵɵelementStart(57, \"option\", 33);\n          i0.ɵɵtext(58, \"Male\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"option\", 34);\n          i0.ɵɵtext(60, \"Female\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(61, \"button\", 35);\n          i0.ɵɵtext(62, \"Submit\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(5);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.firstName);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.lastName);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.country);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.city);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.cities);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.dob);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.ageError);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.dateError);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", ctx.user.selfie);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.user.gender);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"disabled\", !_r0.valid);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\"@charset \\\"UTF-8\\\";\\n\\n\\n\\n\\nform[_ngcontent-%COMP%] {\\n  max-width: 600px;\\n  margin: 2rem auto;\\n  padding: 2rem;\\n  background: linear-gradient(145deg, #ffffff, #f0f0f0);\\n  border-radius: 15px;\\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\\n}\\nform[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);\\n}\\n\\n\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 0.5rem;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n\\n\\ninput[_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem;\\n  margin-bottom: 1rem;\\n  border: 1px solid #ddd;\\n  border-radius: 8px;\\n  font-size: 1rem;\\n  color: #555;\\n  background-color: #f9f9f9;\\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\\n}\\ninput[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus {\\n  border-color: #007bff;\\n  box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);\\n  outline: none;\\n}\\n\\n\\n\\nbutton[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 1rem;\\n  background: linear-gradient(145deg, #007bff, #0056b3);\\n  color: white;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: background 0.3s ease, transform 0.3s ease;\\n}\\nbutton[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(145deg, #0056b3, #007bff);\\n  transform: translateY(-2px);\\n}\\nbutton[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  cursor: not-allowed;\\n  transform: none;\\n}\\n\\n\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n  font-size: 0.875rem;\\n  margin-top: -0.5rem;\\n  margin-bottom: 1rem;\\n  animation: _ngcontent-%COMP%_fadeIn 0.5s ease;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n\\nselect[_ngcontent-%COMP%] {\\n  appearance: none;\\n  background-image: url(\\\"data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007bff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E\\\");\\n  background-repeat: no-repeat;\\n  background-position: right 0.75rem center;\\n  background-size: 12px;\\n}\\n\\n\\n\\ndiv[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n\\n\\n\\nh2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 2rem;\\n  font-size: 4rem; \\n\\n  color: #007bff;\\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n  font-family: \\\"Caveat\\\", cursive; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQix3QkFBQTtBQUVBLGdDQUFBO0FBQ0E7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLHFEQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQ0FBQTtFQUNBLHFEQUFBO0FBQ0Y7QUFDRTtFQUNFLDJCQUFBO0VBQ0EsMENBQUE7QUFDSjs7QUFHQSxxQkFBQTtBQUNBO0VBQ0UsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQUY7O0FBR0EsZ0NBQUE7QUFDQTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSx3REFBQTtBQUFGO0FBRUU7RUFDRSxxQkFBQTtFQUNBLDBDQUFBO0VBQ0EsYUFBQTtBQUFKOztBQUlBLGtDQUFBO0FBQ0E7RUFDRSxjQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxxREFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EscURBQUE7QUFERjtBQUdFO0VBQ0UscURBQUE7RUFDQSwyQkFBQTtBQURKO0FBSUU7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQUZKOztBQU1BLHlDQUFBO0FBQ0E7RUFDRSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7QUFIRjs7QUFNQTtFQUNFO0lBQ0UsVUFBQTtJQUNBLDRCQUFBO0VBSEY7RUFLQTtJQUNFLFVBQUE7SUFDQSx3QkFBQTtFQUhGO0FBQ0Y7QUFNQSxrREFBQTtBQUNBO0VBQ0UsZ0JBQUE7RUFDQSxvZkFBQTtFQUNBLDRCQUFBO0VBQ0EseUNBQUE7RUFDQSxxQkFBQTtBQUpGOztBQU9BLHVDQUFBO0FBQ0E7RUFDRSxxQkFBQTtBQUpGOztBQU9BLHNDQUFBO0FBQ0E7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQSxFQUFBLG9DQUFBO0VBQ0EsY0FBQTtFQUNBLDJDQUFBO0VBQ0EsOEJBQUEsRUFBQSwrQkFBQTtBQUpGIiwic291cmNlc0NvbnRlbnQiOlsiLyogaG9tZS5jb21wb25lbnQuc2NzcyAqL1xuXG4vKiBTdHlsZSBnw4PCqW7Dg8KpcmFsIGR1IGZvcm11bGFpcmUgKi9cbmZvcm0ge1xuICBtYXgtd2lkdGg6IDYwMHB4O1xuICBtYXJnaW46IDJyZW0gYXV0bztcbiAgcGFkZGluZzogMnJlbTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0NWRlZywgI2ZmZmZmZiwgI2YwZjBmMCk7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZSwgYm94LXNoYWRvdyAwLjNzIGVhc2U7XG5cbiAgJjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICAgIGJveC1zaGFkb3c6IDAgMTVweCA0MHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgfVxufVxuXG4vKiBTdHlsZSBkZXMgbGFiZWxzICovXG5sYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4vKiBTdHlsZSBkZXMgaW5wdXRzIGV0IHNlbGVjdHMgKi9cbmlucHV0LCBzZWxlY3Qge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMC43NXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBmb250LXNpemU6IDFyZW07XG4gIGNvbG9yOiAjNTU1O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4zcyBlYXNlLCBib3gtc2hhZG93IDAuM3MgZWFzZTtcblxuICAmOmZvY3VzIHtcbiAgICBib3JkZXItY29sb3I6ICMwMDdiZmY7XG4gICAgYm94LXNoYWRvdzogMCAwIDhweCByZ2JhKDAsIDEyMywgMjU1LCAwLjMpO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cbn1cblxuLyogU3R5bGUgZHUgYm91dG9uIGRlIHNvdW1pc3Npb24gKi9cbmJ1dHRvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMXJlbTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0NWRlZywgIzAwN2JmZiwgIzAwNTZiMyk7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3MgZWFzZTtcblxuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCAjMDA1NmIzLCAjMDA3YmZmKTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIH1cblxuICAmOmRpc2FibGVkIHtcbiAgICBiYWNrZ3JvdW5kOiAjY2NjO1xuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgdHJhbnNmb3JtOiBub25lO1xuICB9XG59XG5cbi8qIEFuaW1hdGlvbiBwb3VyIGxlcyBtZXNzYWdlcyBkJ2VycmV1ciAqL1xuLmVycm9yLW1lc3NhZ2Uge1xuICBjb2xvcjogI2RjMzU0NTtcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgbWFyZ2luLXRvcDogLTAuNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlO1xufVxuXG5Aa2V5ZnJhbWVzIGZhZGVJbiB7XG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gIH1cbn1cblxuLyogU3R5bGUgcG91ciBsZXMgc8ODwqlsZWN0ZXVycyBkZSBwYXlzIGV0IGRlIHZpbGxlICovXG5zZWxlY3Qge1xuICBhcHBlYXJhbmNlOiBub25lO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VUy1BU0NJSSwlM0NzdmclMjB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiUyMHdpZHRoJTNEJTIyMjkyLjQlMjIlMjBoZWlnaHQlM0QlMjIyOTIuNCUyMiUzRSUzQ3BhdGglMjBmaWxsJTNEJTIyJTIzMDA3YmZmJTIyJTIwZCUzRCUyMk0yODclMjA2OS40YTE3LjYlMjAxNy42JTIwMCUyMDAlMjAwLTEzLTUuNEgxOC40Yy01JTIwMC05LjMlMjAxLjgtMTIuOSUyMDUuNEExNy42JTIwMTcuNiUyMDAlMjAwJTIwMCUyMDAlMjA4Mi4yYzAlMjA1JTIwMS44JTIwOS4zJTIwNS40JTIwMTIuOWwxMjglMjAxMjcuOWMzLjYlMjAzLjYlMjA3LjglMjA1LjQlMjAxMi44JTIwNS40czkuMi0xLjglMjAxMi44LTUuNEwyODclMjA5NWMzLjUtMy41JTIwNS40LTcuOCUyMDUuNC0xMi44JTIwMC01LTEuOS05LjItNS41LTEyLjh6JTIyJTJGJTNFJTNDJTJGc3ZnJTNFXCIpO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodCAwLjc1cmVtIGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiAxMnB4O1xufVxuXG4vKiBTdHlsZSBwb3VyIGxlIGNvbnRlbmV1ciBkZXMgY2hhbXBzICovXG5kaXYge1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG59XG5cbi8qIFN0eWxlIHBvdXIgbGUgdGl0cmUgZHUgZm9ybXVsYWlyZSAqL1xuaDIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDJyZW07XG4gIGZvbnQtc2l6ZTogNHJlbTsgLyogQWp1c3RleiBsYSB0YWlsbGUgc2kgbsODwqljZXNzYWlyZSAqL1xuICBjb2xvcjogIzAwN2JmZjtcbiAgdGV4dC1zaGFkb3c6IDJweCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgZm9udC1mYW1pbHk6ICdDYXZlYXQnLCBjdXJzaXZlOyAvKiBBcHBsaXF1ZSBsYSBwb2xpY2UgUG9wcGlucyAqL1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","country_r14","ɵɵadvance","ɵɵtextInterpolate","city_r15","ctx_r8","ageError","ctx_r9","dateError","ɵɵelement","ctx_r12","user","selfie","ɵɵsanitizeUrl","HomeComponent","constructor","http","videoElement","canvasElement","firstName","lastName","country","city","dob","gender","idCardFront","idCardBack","countries","citiesByCountry","cities","ngOnInit","startCamera","video","document","getElementById","navigator","mediaDevices","getUserMedia","then","stream","srcObject","catch","error","console","takeSelfie","canvas","createElement","width","videoWidth","height","videoHeight","context","getContext","drawImage","toDataURL","onCountryChange","selectedCountry","onDateChange","birthdate","Date","today","getFullYear","age","monthDiff","getMonth","onSubmit","alert","userData","formatDate","log","post","subscribe","response","message","date","d","day","String","getDate","padStart","month","year","ɵɵdirectiveInject","i1","HttpClient","selectors","viewQuery","HomeComponent_Query","rf","ctx","ɵɵlistener","HomeComponent_Template_form_ngSubmit_4_listener","HomeComponent_Template_input_ngModelChange_9_listener","$event","HomeComponent_Template_input_ngModelChange_14_listener","HomeComponent_Template_select_ngModelChange_19_listener","HomeComponent_Template_select_change_19_listener","ɵɵtemplate","HomeComponent_option_21_Template","HomeComponent_Template_select_ngModelChange_25_listener","HomeComponent_option_27_Template","HomeComponent_Template_input_ngModelChange_31_listener","HomeComponent_Template_input_change_31_listener","HomeComponent_div_33_Template","HomeComponent_div_34_Template","HomeComponent_Template_button_click_38_listener","HomeComponent_Template_button_click_45_listener","HomeComponent_img_47_Template","HomeComponent_Template_input_change_49_listener","onFileChange","UserFields","IdCardFront","HomeComponent_Template_input_change_51_listener","IdCardBack","HomeComponent_Template_select_ngModelChange_55_listener","_r0","valid"],"sources":["D:\\3emeISAMM\\PFE\\Code\\user-form\\src\\app\\home\\home.component.ts","D:\\3emeISAMM\\PFE\\Code\\user-form\\src\\app\\home\\home.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent {\n  @ViewChild('videoElement') videoElement: ElementRef | null = null;\n  @ViewChild('canvasElement') canvasElement: ElementRef | null = null;\n\n  user = {\n    firstName: '',\n    lastName: '',\n    country: '',\n    city: '',\n    dob: '',\n    gender: '',\n    idCardFront: null as string | null, // Permettre null\n    idCardBack: null as string | null,  // Permettre null\n    selfie: null as string | null        // Permettre null\n  };\n\n  ageError: string = '';\n  dateError: string = '';\n\n  countries: string[] = [\n    \"Afghanistan\"\n  ];\n\n  citiesByCountry: { [key: string]: string[] } = {\n    \"Afghanistan\": [\"Kabul\", \"Kandahar\", \"Herat\", \"Mazar-i-Sharif\", \"Jalalabad\"]\n  };\n\n  cities: string[] = [];\n\n  constructor(private http: HttpClient) {}\n\nngOnInit() {\n    this.startCamera();\n}\n\nstartCamera() {\n    const video = document.getElementById('videoElement') as HTMLVideoElement;\n    navigator.mediaDevices.getUserMedia({ video: true })\n        .then(stream => {\n            video.srcObject = stream;\n        })\n        .catch(error => {\n            console.error(\"Erreur lors de l'accès à la caméra : \", error);\n        });\n}\n\ntakeSelfie() {\n  const video = document.getElementById('videoElement') as HTMLVideoElement;\n  const canvas = document.createElement('canvas');\n  canvas.width = video.videoWidth;\n  canvas.height = video.videoHeight;\n\n  const context = canvas.getContext('2d');\n  if (context) { // Vérifiez si context n'est pas null\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      this.user.selfie = canvas.toDataURL('image/jpeg'); // Convertir en base64\n  } else {\n      console.error(\"Erreur : Impossible d'obtenir le contexte du canvas.\");\n  }\n}\n\n  onCountryChange() {\n    const selectedCountry = this.user.country;\n    this.cities = this.citiesByCountry[selectedCountry] || [];\n    this.user.city = '';\n  }\n\n  onDateChange() {\n    const birthdate = new Date(this.user.dob);\n    const today = new Date();\n    \n    if (birthdate.getFullYear() > today.getFullYear()) {\n      this.dateError = \"Choix incorrect : l'année choisie ne peut pas être supérieure à l'année actuelle.\";\n      this.ageError = \"\";\n      return;\n    } else {\n      this.dateError = \"\";\n    }\n\n    const age = today.getFullYear() - birthdate.getFullYear();\n    const monthDiff = today.getMonth() - birthdate.getMonth();\n\n    if (age < 18 || (age === 18 && monthDiff < 0)) {\n      this.ageError = \"Vous devez avoir au moins 18 ans.\";\n    } else {\n      this.ageError = \"\";\n    }\n  }\n\n  onSubmit() {\n    const birthdate = new Date(this.user.dob);\n    const today = new Date();\n  \n    if (birthdate.getFullYear() > today.getFullYear()) {\n      alert(\"Choix incorrect : l'année choisie ne peut pas être supérieure à l'année actuelle.\");\n      return;\n    }\n  \n    const age = today.getFullYear() - birthdate.getFullYear();\n    const monthDiff = today.getMonth() - birthdate.getMonth();\n  \n    if (age < 18 || (age === 18 && monthDiff < 0)) {\n      alert(\"Vous devez avoir au moins 18 ans.\");\n      return;\n    }\n  \n    const userData = {\n      firstName: this.user.firstName,\n      lastName: this.user.lastName,\n      country: this.user.country,\n      city: this.user.city,\n      dob: this.formatDate(this.user.dob), // Assurez-vous que le format est correct\n      gender: this.user.gender,\n      idCardFront: this.user.idCardFront, // Peut être null\n      idCardBack: this.user.idCardBack,   // Peut être null\n      selfie: this.user.selfie              // Peut être null\n    };\n  \n    console.log('Données utilisateur envoyées:', userData); // Debug\n  \n    this.http.post('http://localhost:5000/api/users', userData)\n      .subscribe(\n        (response) => {\n          console.log('Utilisateur ajouté:', response);\n          this.user = {\n            firstName: '',\n            lastName: '',\n            country: '',\n            city: '',\n            dob: '',\n            gender: '',\n            idCardFront: null,\n            idCardBack: null,\n            selfie: null\n          };\n        },\n        (error) => {\n          console.error('Erreur lors de l\\'ajout:', error);\n          alert('Erreur lors de l\\'enregistrement: ' + (error.error.message || error.message));\n        }\n      );\n  }\n  \n\n  formatDate(date: string): string {\n    const d = new Date(date);\n    const day = String(d.getDate()).padStart(2, '0');\n    const month = String(d.getMonth() + 1).padStart(2, '0');\n    const year = d.getFullYear();\n    return `${day}/${month}/${year}`;\n  }\n}\n","<h2>Ouvrez votre avenir financier avec nous !\n  <head>\n    <link href=\"https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap\" rel=\"stylesheet\">\n  </head>\n  \n</h2>\n<form (ngSubmit)=\"onSubmit()\" #form=\"ngForm\">\n  <div>\n    <label for=\"firstName\">First Name:</label>\n    <input [(ngModel)]=\"user.firstName\" name=\"firstName\" required #firstName=\"ngModel\">\n  </div>\n\n  <div>\n    <label for=\"lastName\">Last Name:</label>\n    <input [(ngModel)]=\"user.lastName\" name=\"lastName\" required #lastName=\"ngModel\">\n  </div>\n\n  <div>\n    <label for=\"country\">Country:</label>\n    <select [(ngModel)]=\"user.country\" name=\"country\" required #country=\"ngModel\" (change)=\"onCountryChange()\">\n      <option *ngFor=\"let country of countries\" [value]=\"country\">{{ country }}</option>\n    </select>\n  </div>\n\n  <!-- Sélection de la ville -->\n  <div>\n    <label for=\"city\">City:</label>\n    <select [(ngModel)]=\"user.city\" name=\"city\" required #city=\"ngModel\">\n      <option *ngFor=\"let city of cities\" [value]=\"city\">{{ city }}</option>\n    </select>\n  </div>\n\n  <div>\n    <label for=\"dob\">Date of Birth:</label>\n    <input type=\"date\" [(ngModel)]=\"user.dob\" name=\"dob\" required #dob=\"ngModel\" (change)=\"onDateChange()\">\n    <div *ngIf=\"ageError\" style=\"color: red;\">{{ ageError }}</div>\n    <div *ngIf=\"dateError\" style=\"color: red;\">{{ dateError }}</div>\n  </div>\n  <div>\n    <label for=\"selfie\">Prenez une selfie:</label>\n    <button type=\"button\" (click)=\"startCamera()\">Activer la caméra</button>\n    <video #videoElement width=\"320\" height=\"240\" autoplay></video>\n    <canvas #canvasElement style=\"display:none\"></canvas>\n    <video id=\"videoElement\" autoplay></video>\n    <button (click)=\"takeSelfie()\">Prendre un selfie</button>\n    <img *ngIf=\"user.selfie\" [src]=\"user.selfie\" alt=\"Selfie capturé\" />    \n  </div>\n  \n  <div>\n    <input type=\"file\" (change)=\"onFileChange($event, UserFields.IdCardFront)\" />\n\n  </div>\n  \n  <div>\n    <input type=\"file\" (change)=\"onFileChange($event, UserFields.IdCardBack)\" />\n\n  </div>\n  \n\n  <div>\n    <label for=\"gender\">Gender:</label>\n    <select [(ngModel)]=\"user.gender\" name=\"gender\" required #gender=\"ngModel\">\n      <option value=\"male\">Male</option>\n      <option value=\"female\">Female</option>\n    </select>\n  </div>\n\n  <button type=\"submit\" [disabled]=\"!form.valid\">Submit</button>\n</form>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}